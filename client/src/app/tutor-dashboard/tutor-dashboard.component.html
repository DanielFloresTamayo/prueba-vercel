<div class="tdash-wrapper">
  <div class="tdash-container container-xl px-3 py-4">
    <!-- Botón hamburguesa (solo móvil) -->
    <button class="menu-toggle d-md-none" (click)="toggleSidebar()">
      <i class="fas" [ngClass]="{ 'fa-bars': !isSidebarOpen, 'fa-times': isSidebarOpen }"></i>
    </button>

    <div class="d-flex gap-4">
      <!-- Sidebar -->
      <aside class="tdash-sidebar p-3 rounded-4 shadow-sm" [ngClass]="{ open: isSidebarOpen, closed: !isSidebarOpen }">
        <div class="brand mb-4 text-center">
          <div class="logo-circle mb-2"></div>
          <h5 class="m-0 fw-bold">Panel Tutor</h5>
          <small class="text-muted">Gestión personal</small>
        </div>

        <nav class="nav flex-column">
          <a routerLink="perfil" routerLinkActive="active" class="nav-link rounded-pill">
            <i class="fas fa-user me-2"></i>Perfil
          </a>
          <a routerLink="cambiar-contrasena" routerLinkActive="active" class="nav-link rounded-pill">
            <i class="fas fa-key me-2"></i>Contraseña
          </a>


          <!-- ==== BOTÓN PRINCIPAL ==== -->
          <div class="submenu-wrapper">
            <a class="nav-link rounded-pill submenu-toggle" (click)="submenuClases = !submenuClases"
              [class.active]="submenuClases">
              <i class="fas fa-chalkboard-teacher me-2"></i>Tus clases
              <i class="fas fa-chevron-down ms-auto rotate" [class.open]="submenuClases"></i>
            </a>

            <!-- ==== SUBMENÚ ==== -->
            <div class="submenu px-2" [class.open]="submenuClases">
              <a [routerLink]="['/tutor/clases']" [queryParams]="{ vista: 'crear' }"
                class="nav-link sub-item rounded-pill" routerLinkActive="active">
                <i class="fas fa-plus-circle me-2"></i>Crear clase
              </a>

              <a [routerLink]="['/tutor/clases']" [queryParams]="{ vista: 'editar' }"
                class="nav-link sub-item rounded-pill" routerLinkActive="active">
                <i class="fas fa-edit me-2"></i>Mis clases
              </a>
            </div>
          </div>
          <a routerLink="citas" routerLinkActive="active" class="nav-link rounded-pill">
            <i class="fas fa-plus-circle me-2"></i>Solicitudes
          </a>
          <a routerLink="comentarios" routerLinkActive="active" class="nav-link rounded-pill">
            <i class="fas fa-comment-dots me-2"></i>Reseñas
          </a>

        </nav>

        <div class="mt-4">
          <button class="btn-logout w-100" (click)="logout()">
            <i class="fas fa-sign-out-alt me-2"></i> Cerrar sesión
          </button>
        </div>
      </aside>

      <!-- Contenido principal -->
      <main class="tdash-main flex-fill animate-fade">
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>
</div>